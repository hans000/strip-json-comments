!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).stripJsonComments=t()}(this,(function(){"use strict";const e=Symbol("singleComment"),t=Symbol("multiComment"),n=()=>"",i=(e,t,n)=>e.slice(t,n).replace(/\S/g," "),o=(e,t)=>{let n=t-1,i=0;for(;"\\"===e[n];)n-=1,i+=1;return Boolean(i%2)};return function(s,l={}){const{whitespace:f=!0,trailingCommas:c=!1}=l;if("string"!=typeof s)throw new TypeError(`Expected argument \`jsonString\` to be a \`string\`, got \`${typeof s}\``);const r=f?i:n;let u=!1,m=!1,p=0,d="",g="",a=-1;for(let n=0;n<s.length;n++){const i=s[n],l=s[n+1];if(!m&&'"'===i){o(s,n)||(u=!u)}if(!u)if(m||i+l!=="//"){if(m===e&&i+l==="\r\n"){n++,m=!1,d+=r(s,p,n),p=n;continue}if(m===e&&"\n"===i)m=!1,d+=r(s,p,n),p=n;else{if(!m&&i+l==="/*"){d+=s.slice(p,n),p=n,m=t,n++;continue}if(m===t&&i+l==="*/"){n++,m=!1,d+=r(s,p,n+1),p=n+1;continue}c&&!m&&(-1!==a?"}"===i||"]"===i?(d+=s.slice(p,n),g+=r(d,0,1)+d.slice(1),d="",p=n,a=-1):" "!==i&&"\t"!==i&&"\r"!==i&&"\n"!==i&&(d+=s.slice(p,n),p=n,a=-1):","===i&&(g+=d+s.slice(p,n),d="",p=n,a=n))}}else d+=s.slice(p,n),p=n,m=e,n++}return g+d+(m?r(s.slice(p)):s.slice(p))}}));
